!function(a){jQuery.fn.progressBar=function(b){var c={height:"30",backgroundColor:"#E0E0E0",barColor:"#F97352",targetBarColor:"#CCC",percentage:!0,shadow:!1,border:!1,animation:!1,animateTarget:!1},d=a.extend({},c,b);return this.each(function(){var b=a(this);a.fn.replaceProgressBar(b,d)})},a.fn.replaceProgressBar=function(b,c){var d=b.text(),e=b.data("width"),f=b.data("target"),g=" ",h="",i="background-color:"+c.backgroundColor+";height:"+c.height+"px;";c.shadow&&(g+="shadow"),c.border&&(g+=" border"),c.animation&&(h=" animate");var j='<div class="sonny_progressbar'+h+'" data-width="'+e+'">';j+='<p class="title">'+d+"</p>",j+='<div class="bar-container'+g+'" style="'+i+'">',j+='<span class="backgroundBar"></span>',f&&(j+=c.animateTarget?'<span class="targetBar loader" style="width:'+f+"%;background-color:"+c.targetBarColor+';"></span>':'<span class="targetBar" style="width:'+f+"%;background-color:"+c.targetBarColor+';"></span>'),j+=c.animation?'<span class="bar" style="background-color:'+c.barColor+';"></span>':'<span class="bar" style="width:'+e+"%;background-color:"+c.barColor+';"></span>',c.percentage&&(j+='<span class="progress-percent" style="line-height:'+c.height+'px;">'+e+"%</span>"),j+="</div></div>",a(b).replaceWith(j)};var b=function(){var b=a(window).height();a(".sonny_progressbar.animate").each(function(){var c=a(this).offset().top;if(a(window).scrollTop()+b-60>c){var d=a(this).data("width")+"%";a(this).removeClass("animate"),a(this).find(".bar").css("opacity","0.1"),a(this).find(".bar").animate({width:d,opacity:1},3e3)}})};a(window).scroll(function(){a(".sonny_progressbar.animate").length<1||b()})}(jQuery);
